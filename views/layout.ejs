<html>
    <head>
        <title> <%= title %> </title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js"></script>

        <!-- include jquery for ajax equest  -->
        <!-- add it in the layout so that every page can access it -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        
        <%- style %> 
    </head>
    <body>

        <%- include('_header') %>

        <main id="layout-main">
            <%- body %>    
        </main>

        <%- include('_footer') %> 


        <%- script %> 

        <!-- add noty js flash messages script -->

        <script>

            <% if(locals.flash.success && locals.flash.success.length > 0){ %>
                new Noty({
                    theme: 'mint',
                    text: '<%= locals.flash.success %>',
                    type: 'success',
                    layout: 'topRight',
                    timeout: 1500,
                    progressBar: false
                }).show();
            <% } %>

            <% if(locals.flash.error && locals.flash.error.length > 0){ %>
                new Noty({
                    theme: 'relax',
                    text: '<%= locals.flash.error %>',
                    type: 'error',
                    layout: 'topRight',
                    timeout: 1500,
                    progressBar: false
                }).show();
            <% } %>

        </script>

    </body>
</html>